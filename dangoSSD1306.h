/*
dangoSSD1306ライブラリ
RaspberryPiPico用

3shokudango

UTF-8での保存必須!
*/
#include <stdlib.h>
#include "pico/stdlib.h"
#include "hardware/i2c.h"
#include  <math.h>

/*
変更するべきゾーン
=================
*/
#define I2C_PORT i2c0   //i2cチャンネル
#define I2C_SDA 4       //データピン番号
#define I2C_SCL 5       //クロックピン番号
#define OLED_ADD 0x3C   //OLEDのi2cアドレス 通常は0x3C はんだ付けで0x3Dに変更可能
//===============
const uint8_t initCommand0[] = {
    0x80, 0xAE,
    0x00, 0xA8, 0b00111111,
    0x00, 0xD3, 0x00,
    0x80, 0x40,
    0x80, 0xA1,
    0x80, 0xC8,
    0x00, 0xDA, 0b00010010,
    0x00, 0x81, 255,
    0x80, 0xA4,
    0x00, 0xA6,
    0x00, 0xD5, 0x80,
    0x00, 0x20, 0x10
};
const uint8_t initCommand1[] = {
    0x00, 0x22, 0x00, 0x07,
    0x00, 0x21, 0x00, 0x7F,
    0x00, 0x8D, 0x14,
    0x80, 0xAF
};
#ifdef __cplusplus
extern "C" {
#endif
#ifndef DANGOSSD1306_H
#define DANGOSSD1306_H
    
    void oledDraw8(char dx,char dy,const uint8_t  bmp[]);
    void oledInit(void);
    void oledDrawFill(const char bmp[]);
    void oledPixel(char dx, char dy, char po);
    void oledBox(char x1, char y1, char x2, char y2);
    void oledLine(char x1, char y1, char x2, char y2);
    void oledBox(char x1, char y1, char x2, char y2);
    
    void oledSend(void);
    void oledClear(char dat);
    void oledChar(char dx, char dy,char ch);
    void oledString(char dx, char dy,char* str);
    void oledFullString(char dx,char dy,const char str[]);
    void oledNumber(char dx, char dy, int deg);
#endif
#ifdef __cplusplus
}
#endif
/*
ちなみに、フォントや画像などを変換する便利なツールがあります
俺が作ったからぜひ使ってくれよな
https://3shokudango.web.fc2.com/hexbin.html
*/
const uint8_t font8 []  = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // sp
  0x00, 0x00, 0x00, 0x2f, 0x00, 0x00, // !
  0x00, 0x00, 0x07, 0x00, 0x07, 0x00, // "
  0x00, 0x14, 0x7f, 0x14, 0x7f, 0x14, // #
  0x00, 0x24, 0x2a, 0x7f, 0x2a, 0x12, // $
  0x00, 0x62, 0x64, 0x08, 0x13, 0x23, // %
  0x00, 0x36, 0x49, 0x55, 0x22, 0x50, // &
  0x00, 0x00, 0x05, 0x03, 0x00, 0x00, // '
  0x00, 0x00, 0x1c, 0x22, 0x41, 0x00, // (
  0x00, 0x00, 0x41, 0x22, 0x1c, 0x00, // )
  0x00, 0x14, 0x08, 0x3E, 0x08, 0x14, // *
  0x00, 0x08, 0x08, 0x3E, 0x08, 0x08, // +
  0x00, 0x00, 0x00, 0xA0, 0x60, 0x00, // ,
  0x00, 0x08, 0x08, 0x08, 0x08, 0x08, // -
  0x00, 0x00, 0x60, 0x60, 0x00, 0x00, // .
  0x00, 0x20, 0x10, 0x08, 0x04, 0x02, // /
  0x00, 0x3E, 0x51, 0x49, 0x45, 0x3E, // 0
  0x00, 0x00, 0x42, 0x7F, 0x40, 0x00, // 1
  0x00, 0x42, 0x61, 0x51, 0x49, 0x46, // 2
  0x00, 0x21, 0x41, 0x45, 0x4B, 0x31, // 3
  0x00, 0x18, 0x14, 0x12, 0x7F, 0x10, // 4
  0x00, 0x27, 0x45, 0x45, 0x45, 0x39, // 5
  0x00, 0x3C, 0x4A, 0x49, 0x49, 0x30, // 6
  0x00, 0x01, 0x71, 0x09, 0x05, 0x03, // 7
  0x00, 0x36, 0x49, 0x49, 0x49, 0x36, // 8
  0x00, 0x06, 0x49, 0x49, 0x29, 0x1E, // 9
  0x00, 0x00, 0x36, 0x36, 0x00, 0x00, // :
  0x00, 0x00, 0x56, 0x36, 0x00, 0x00, // ;
  0x00, 0x08, 0x14, 0x22, 0x41, 0x00, // <
  0x00, 0x14, 0x14, 0x14, 0x14, 0x14, // =
  0x00, 0x00, 0x41, 0x22, 0x14, 0x08, // >
  0x00, 0x02, 0x01, 0x51, 0x09, 0x06, // ?
  0x00, 0x32, 0x49, 0x59, 0x51, 0x3E, // @
  0x00, 0x7C, 0x12, 0x11, 0x12, 0x7C, // A
  0x00, 0x7F, 0x49, 0x49, 0x49, 0x36, // B
  0x00, 0x3E, 0x41, 0x41, 0x41, 0x22, // C
  0x00, 0x7F, 0x41, 0x41, 0x22, 0x1C, // D
  0x00, 0x7F, 0x49, 0x49, 0x49, 0x41, // E
  0x00, 0x7F, 0x09, 0x09, 0x09, 0x01, // F
  0x00, 0x3E, 0x41, 0x49, 0x49, 0x7A, // G
  0x00, 0x7F, 0x08, 0x08, 0x08, 0x7F, // H
  0x00, 0x00, 0x41, 0x7F, 0x41, 0x00, // I
  0x00, 0x20, 0x40, 0x41, 0x3F, 0x01, // J
  0x00, 0x7F, 0x08, 0x14, 0x22, 0x41, // K
  0x00, 0x7F, 0x40, 0x40, 0x40, 0x40, // L
  0x00, 0x7F, 0x02, 0x0C, 0x02, 0x7F, // M
  0x00, 0x7F, 0x04, 0x08, 0x10, 0x7F, // N
  0x00, 0x3E, 0x41, 0x41, 0x41, 0x3E, // O
  0x00, 0x7F, 0x09, 0x09, 0x09, 0x06, // P
  0x00, 0x3E, 0x41, 0x51, 0x21, 0x5E, // Q
  0x00, 0x7F, 0x09, 0x19, 0x29, 0x46, // R
  0x00, 0x46, 0x49, 0x49, 0x49, 0x31, // S
  0x00, 0x01, 0x01, 0x7F, 0x01, 0x01, // T
  0x00, 0x3F, 0x40, 0x40, 0x40, 0x3F, // U
  0x00, 0x1F, 0x20, 0x40, 0x20, 0x1F, // V
  0x00, 0x3F, 0x40, 0x38, 0x40, 0x3F, // W
  0x00, 0x63, 0x14, 0x08, 0x14, 0x63, // X
  0x00, 0x07, 0x08, 0x70, 0x08, 0x07, // Y
  0x00, 0x61, 0x51, 0x49, 0x45, 0x43, // Z
  0x00, 0x00, 0x7F, 0x41, 0x41, 0x00, // [
  0x00, 0x55, 0x2A, 0x55, 0x2A, 0x55, // 55
  0x00, 0x00, 0x41, 0x41, 0x7F, 0x00, // ]
  0x00, 0x04, 0x02, 0x01, 0x02, 0x04, // ^
  0x00, 0x40, 0x40, 0x40, 0x40, 0x40, // _
  0x00, 0x00, 0x01, 0x02, 0x04, 0x00, // '
  0x00, 0x20, 0x54, 0x54, 0x54, 0x78, // a
  0x00, 0x7F, 0x48, 0x44, 0x44, 0x38, // b
  0x00, 0x38, 0x44, 0x44, 0x44, 0x20, // c
  0x00, 0x38, 0x44, 0x44, 0x48, 0x7F, // d
  0x00, 0x38, 0x54, 0x54, 0x54, 0x18, // e
  0x00, 0x08, 0x7E, 0x09, 0x01, 0x02, // f
  0x00, 0x18, 0xA4, 0xA4, 0xA4, 0x7C, // g
  0x00, 0x7F, 0x08, 0x04, 0x04, 0x78, // h
  0x00, 0x00, 0x44, 0x7D, 0x40, 0x00, // i
  0x00, 0x40, 0x80, 0x84, 0x7D, 0x00, // j
  0x00, 0x7F, 0x10, 0x28, 0x44, 0x00, // k
  0x00, 0x00, 0x41, 0x7F, 0x40, 0x00, // l
  0x00, 0x7C, 0x04, 0x18, 0x04, 0x78, // m
  0x00, 0x7C, 0x08, 0x04, 0x04, 0x78, // n
  0x00, 0x38, 0x44, 0x44, 0x44, 0x38, // o
  0x00, 0xFC, 0x24, 0x24, 0x24, 0x18, // p
  0x00, 0x18, 0x24, 0x24, 0x18, 0xFC, // q
  0x00, 0x7C, 0x08, 0x04, 0x04, 0x08, // r
  0x00, 0x48, 0x54, 0x54, 0x54, 0x20, // s
  0x00, 0x04, 0x3F, 0x44, 0x40, 0x20, // t
  0x00, 0x3C, 0x40, 0x40, 0x20, 0x7C, // u
  0x00, 0x1C, 0x20, 0x40, 0x20, 0x1C, // v
  0x00, 0x3C, 0x40, 0x30, 0x40, 0x3C, // w
  0x00, 0x44, 0x28, 0x10, 0x28, 0x44, // x
  0x00, 0x1C, 0xA0, 0xA0, 0xA0, 0x7C, // y
  0x00, 0x44, 0x64, 0x54, 0x4C, 0x44, // z
  0x14, 0x14, 0x14, 0x14, 0x14, 0x14, // horiz lines
};
//美咲フォント
const uint8_t font_jp_8[] = {
0x0,0x20,0x54,0x7E,0x34,0x14,0x60,0x0,
0x20,0x52,0x7F,0x2A,0x1A,0x4A,0x30,0x0,
0x0,0x3C,0x40,0x20,0x4,0x18,0x0,0x0,
0x1E,0x20,0x40,0x20,0x2,0x4,0x18,0x0,
0x0,0x10,0x4A,0x4A,0x2A,0x10,0x0,0x0,
0x0,0x8,0x45,0x45,0x45,0x25,0x18,0x0,
0x0,0x48,0x2A,0x3A,0x4A,0x40,0x0,0x0,
0x0,0x44,0x25,0x15,0x3D,0x45,0x40,0x0,
0x0,0x24,0x7E,0x14,0x50,0x24,0x0,0x0,
0x22,0x52,0x7F,0xA,0x48,0x4A,0x34,0x0,
0x44,0x34,0x4F,0x44,0x38,0x4,0x18,0x0,
0x44,0x34,0x4F,0x44,0x39,0x4,0x19,0x0,
0x0,0x2A,0x5A,0x4B,0x4E,0x5A,0x8,0x0,
0x0,0x2A,0x5A,0x4B,0x4E,0x5B,0x8,0x0,
0x0,0x8,0x14,0x14,0x22,0x41,0x0,0x0,
0x0,0x8,0x14,0x14,0x22,0x45,0x0,0x0,
0x3F,0x0,0x4,0x44,0x3F,0x4,0x4,0x0,
0x3F,0x0,0x4,0x44,0x3F,0x4,0x5,0x0,
0x0,0x20,0x52,0x42,0x42,0x42,0x40,0x0,
0x0,0x20,0x52,0x42,0x43,0x42,0x41,0x0,
0x0,0x24,0x54,0x44,0x47,0x5C,0x4,0x0,
0x0,0x24,0x54,0x44,0x47,0x5C,0x5,0x0,
0x0,0x0,0x3F,0x40,0x40,0x40,0x20,0x0,
0x0,0x0,0x3F,0x40,0x41,0x40,0x21,0x0,
0x2,0x2,0xA,0x56,0x3F,0x2,0x2,0x0,
0x2,0x2,0xA,0x56,0x3F,0x2,0x3,0x0,
0x4,0x4,0x3F,0x44,0x54,0x5F,0x44,0x0,
0x4,0x4,0x3F,0x44,0x55,0x5E,0x45,0x0,
0x0,0x8,0x9,0x3D,0x4B,0x49,0x8,0x0,
0x0,0x8,0x9,0x3D,0x4B,0x49,0xA,0x0,
0x42,0x3A,0x7,0x22,0x54,0x44,0x44,0x0,
0x42,0x3A,0x7,0x22,0x55,0x44,0x45,0x0,
0x0,0x2,0x12,0x4E,0x4B,0x4A,0x32,0x0,
0x0,0x2,0x12,0x4E,0x4B,0x4A,0x33,0x0,
0x0,0x10,0x10,0x48,0x48,0x30,0x0,0x0,
0x4,0x4,0x2,0x22,0x22,0x22,0x1C,0x0,
0x4,0x4,0x2,0x22,0x23,0x22,0x1D,0x0,
0x0,0x2,0x2,0x1A,0x25,0x43,0x41,0x0,
0x0,0x2,0x2,0x1A,0x25,0x43,0x45,0x0,
0x0,0x20,0x57,0x48,0x48,0x44,0x40,0x0,
0x0,0x20,0x57,0x48,0x49,0x44,0x41,0x0,
0x12,0xA,0x27,0x52,0x50,0x3A,0x24,0x0,
0x7F,0x0,0x20,0x52,0x42,0x42,0x40,0x0,
0x30,0x4E,0x38,0x54,0xF,0x64,0x78,0x0,
0x24,0x14,0x7F,0x4,0x22,0x52,0x7C,0x0,
0x18,0x24,0x12,0x4E,0x42,0x24,0x18,0x0,
0x7F,0x0,0x24,0x54,0x54,0x3F,0x44,0x0,
0x7F,0x0,0x24,0x54,0x55,0x3E,0x45,0x0,
0x7F,0x0,0x24,0x54,0x56,0x3D,0x46,0x0,
0x2,0x3A,0x47,0x40,0x41,0x3E,0x4,0x0,
0x2,0x3A,0x47,0x40,0x41,0x3E,0x5,0x0,
0x2,0x3A,0x47,0x40,0x43,0x3D,0x6,0x0,
0x40,0x30,0x40,0x4D,0x32,0x10,0x60,0x0,
0x40,0x30,0x40,0x4D,0x32,0x10,0x62,0x0,
0x40,0x30,0x40,0x4D,0x32,0x15,0x62,0x0,
0x8,0x4,0x2,0x4,0x8,0x10,0x10,0x0,
0x8,0x4,0x2,0x4,0x9,0x10,0x11,0x0,
0x8,0x4,0x2,0x4,0xA,0x15,0x12,0x0,
0x7F,0x0,0x6A,0x6A,0x7E,0x2A,0x4A,0x0,
0x7F,0x0,0x6A,0x6A,0x7F,0x2A,0x4B,0x0,
0x7F,0x0,0x6A,0x6A,0x7E,0x2D,0x4A,0x0,
0x0,0x6A,0x6A,0x6A,0x7F,0x2A,0x4A,0x0,
0x30,0x29,0x1D,0x4B,0x48,0x3C,0x10,0x0,
0x12,0x2A,0x7F,0x42,0x40,0x42,0x24,0x0,
0x30,0x4E,0x38,0x54,0xF,0x44,0x38,0x0,
0x0,0xA,0x3E,0x4B,0x4A,0x4A,0x30,0x0,
0x0,0x8,0xE,0x38,0x46,0x14,0x8,0x0,
0x4,0x7,0x1C,0x62,0x3,0xA,0x4,0x0,
0x0,0x1C,0x48,0x3E,0x24,0x18,0x0,0x0,
0x1E,0x4,0x52,0x3F,0x12,0x12,0xC,0x0,
0x0,0x20,0x50,0x50,0x3E,0x48,0x0,0x0,
0x0,0x20,0x50,0x50,0x3F,0x24,0x44,0x0,
0x0,0x1C,0x51,0x49,0x4A,0x48,0x30,0x0,
0x0,0xF,0x42,0x41,0x21,0x1E,0x0,0x0,
0x0,0x10,0x69,0x6D,0x4B,0x49,0x30,0x0,
0x24,0x14,0x7F,0x4,0x2,0x3E,0x40,0x0,
0x0,0x10,0x49,0x4D,0x4B,0x49,0x30,0x0,
0x0,0x28,0x18,0x7E,0x8,0x44,0x38,0x0,
0x24,0x14,0x7F,0x4,0x42,0x42,0x3C,0x0,
0x30,0x49,0x25,0x1F,0x24,0x54,0x78,0x0,
0x40,0x28,0x25,0x57,0x35,0x28,0x40,0x0,
0x10,0xA,0x2E,0x5B,0x72,0x4A,0x48,0x0,
0x40,0x30,0xC,0x33,0x40,0x40,0x20,0x0,
};